<div class="pattern-info general-wrapper" *ngIf="pattern">
  <div mat-dialog-actions class="close-top-right">
    <button mat-icon-button (click)="closePopover()">
      <mat-icon>close</mat-icon>
    </button>
  </div>
  <h1 mat-dialog-title>Pattern: {{ pattern.name}}</h1>
  <div mat-dialog-content>

    <div [innerHTML]="pattern.description"></div>

    <div class="row">
      <div class="col-6">
        <h3>Components:</h3>
        <mat-card *ngFor="let system of relatedSystems" class="text-left">
          <mat-card-header>
            <mat-card-title>{{ system.name }}</mat-card-title>
            <mat-card-subtitle>{{ system.description }}</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <app-attribute-selection [attributeSetId]="system.attributeSet"
                                     [attributeSelection]="system.attributeSelection"
                                     [entityId]="system.id"
                                     [readonly]="true"
                                     [dense]="true"
                                     [skipValues]="['-']"
                                     *ngIf="system"></app-attribute-selection>
          </mat-card-content>
          <mat-card-actions>
            <button mat-button (click)="showSystemInfo($event, system)">
              <mat-icon mat-list-icon color="primary">info</mat-icon>
              More information
            </button>
          </mat-card-actions>
        </mat-card>
      </div>

      <div class="col-6">
        <h3>Capabilities:</h3>
        <mat-card *ngFor="let capability of relatedCapabilities" class="text-left">
          <mat-card-header>
            <mat-card-title>{{ capability.name }}</mat-card-title>
            <mat-card-subtitle>{{ capability.description }}</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <app-attribute-selection [attributeSetId]="capability.attributeSet"
                                     [attributeSelection]="capability.attributeSelection"
                                     [entityId]="capability.id"
                                     [readonly]="true"
                                     [dense]="true"
                                     [skipValues]="['-']"
                                     *ngIf="capability"></app-attribute-selection>
          </mat-card-content>
          <mat-card-actions>
            <button mat-button (click)="showCapabilityInfo($event, capability)">
              <mat-icon mat-list-icon color="primary">info</mat-icon>
              More information
            </button>
          </mat-card-actions>
        </mat-card>

      </div>
    </div>

  </div>
</div>
